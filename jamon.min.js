"use strict";{function a(v){return v.replace(/-([a-z])/g,(w,x)=>x.toUpperCase())}function b(v){return v.replace(/([A-Z])/g,w=>"-"+w.toLowerCase())}function c(v){return v?(v+"").trim().split(" "):[]}function d(v){return"undefined"==typeof v}function f(v){return"string"==typeof v}function g(v){return Array.isArray(v)||v instanceof NodeList||v instanceof HTMLCollection}function h(v,w,x){const y=c(w);if(y.length)for(const z of v)if(x!==s.TOGGLE)z.classList[x](...y);else for(const A of y)z.classList.toggle(A);return v}function i(v,w,x){if(d(x))return v[0]?v[0][w]:void 0;if(null!==x)for(const y of v)y[w]=x;else for(const y of v)delete y[w];return v}function j(v,w){const x=v[0];if(x&&"function"==typeof x.getBoundingClientRect)return x.getBoundingClientRect()[w]}function k(v,w,x,y){let z=!1;return f(v)?(v=document.createTextNode(v),z=!0):v=v[0],w=w[0],x===r.BEFORE||x===r.AFTER?(w.parentElement.insertBefore(v,x===r.BEFORE?w:w.nextSibling),z&&w.parentNode&&w.parentNode.normalize()):x===r.PREPEND?(w.insertBefore(v,w.firstChild),z&&w.normalize()):x===r.APPEND?(w.appendChild(v),z&&w.normalize()):x===r.REPLACE&&(w.parentElement.replaceChild(v,w),z&&v.parentNode.normalize()),arguments[y]}function l(v,w){let y,x=v[p];return d(x)&&(x=new Map,v[p]=x),x.has(w)?y=x.get(w):(y=function(z){const A=z.target;A.matches(w)&&v.call(A,z)},x.set(w,y)),y}function m(v,w=""){return`${v}|${w}`}function n(v,w,x){let y,z=!1,A=v.id;const B=x?"querySelector":"querySelectorAll";return A||(z=!0,A="jamon-temporary-id",v.id=A),w=`#${A} ${w}`,y=v[B](w),z&&v.removeAttribute("id"),y}let o="hidden";const p=Symbol(),q=Symbol(),r={PREPEND:Symbol(),APPEND:Symbol(),BEFORE:Symbol(),AFTER:Symbol(),REPLACE:Symbol()},s={ADD:"add",REMOVE:"remove",TOGGLE:"toggle"},t={WIDTH:"width",HEIGHT:"height"};class u extends Array{static create(v,w){const x=document.createElement(v);if(!d(w))for(const y of Object.keys(w))x[y]=w[y];return u.of(x)}static get hiddenClassName(){return o}static set hiddenClassName(v){o=v}static get(v){if(d(v))return new u;if(f(v)){const w=document.querySelector(v);return w?u.of(w):new u}return v instanceof Node&&[Node.ELEMENT_NODE,Node.DOCUMENT_NODE,Node.TEXT_NODE].includes(v.nodeType)?u.of(v):g(v)?v.length?u.of(v[0]):new u:void 0}static getAll(v){return d(v)?new u:f(v)?u.from(document.querySelectorAll(v)):v instanceof u?v:g(v)?v.length?u.from(v):new u:void 0}*items(){for(const v of this)yield u.of(v)}addClass(v){return h(this,v,s.ADD)}removeClass(v){return h(this,v,s.REMOVE)}toggleClass(v){return h(this,v,s.TOGGLE)}hasClass(v){return v&&this[0]&&this[0].classList.contains((v+"").trim())}show(){return h(this,o,s.REMOVE)}hide(){return h(this,o,s.ADD)}toggle(){return h(this,o,s.TOGGLE)}val(v){return i(this,"value",v)}html(v){return i(this,"innerHTML",null===v?"":v)}text(v){return i(this,"textContent",null===v?"":v)}prop(v,w){return i(this,v,w)}attr(v,w){if(d(w)){let x=this[0];return x&&x.hasAttribute(v)?x.getAttribute(v):void 0}if(null!==w)for(const x of this)x.setAttribute(v,w);else for(const x of this)x.removeAttribute(v);return this}css(v,w){if(d(w)){let x=this[0];return x?window.getComputedStyle(x).getPropertyValue(b(v)):void 0}for(const x of this)x.style[a(v)]=w+"";return this}data(v,w){if(d(w)){const x=this[0];return x?x.dataset[v]:void 0}if(null!==w){for(const x of this)x.dataset[v]=w;return this}for(const x of this)delete x.dataset[v];return this}width(){return j(this,t.WIDTH)}height(){return j(this,t.HEIGHT)}offset(){const v=this[0];return{left:v.offsetLeft,top:v.offsetTop}}position(v){const w=this[0].getBoundingClientRect();if(d(v))return{left:w.left,top:w.top};for(const x of this){const y=x.offsetParent||document.body,z=y.getBoundingClientRect(),A=getComputedStyle(x),B=x.style,C=v.left,D=v.top;let E,F;"static"===A.position?(E=x.offsetLeft,F=x.offsetTop,B.position="relative"):(E=x.offsetLeft-(parseFloat(A.left)||0),F=x.offsetTop-(parseFloat(A.top)||0)),d(C)||(B.left=C-E-z.left+"px"),d(D)||(B.top=D-F-z.top+"px")}return this}findOne(v){let w=new u;for(const x of this){const y=n(x,v,!0);if(y){w.push(y);break}}return w}findAll(v){const w=new u;for(const x of this){const y=n(x,v);y.length&&w.push(...y)}return w}parent(){const v=new u;for(const w of this){const x=w.parentElement;x&&!v.includes(x)&&v.push(x)}return v}children(){const v=new u;for(const w of this)v.push(...w.children);return v}closest(v){const w=new u;for(const x of this)if("function"==typeof x.closest){const y=x.closest(v);y&&!w.includes(y)&&w.push(y)}return w}prepend(v){return k(v,this,r.PREPEND,1)}prependTo(v){return k(this,v,r.PREPEND,0)}append(v){return k(v,this,r.APPEND,1)}appendTo(v){return k(this,v,r.APPEND,0)}before(v){return k(v,this,r.BEFORE,1)}insertBefore(v){return k(this,v,r.BEFORE,0)}after(v){return k(v,this,r.AFTER,1)}insertAfter(v){return k(this,v,r.AFTER,0)}replaceWith(v){return k(v,this,r.REPLACE,1)}replace(v){return k(this,v,r.REPLACE,0)}clone(v){const w=new u;for(const x of this)w.push(x.cloneNode(v));return w}remove(){for(const v of this)v.remove(),v.parentNode.normalize();return this}on(v,w,x){d(x)?(x=w,w=void 0):x=l(x,w);for(const y of c(v)){const z=m(y,w);for(const A of this){let B=A[q];d(B)&&(B=new Map,A[q]=B);let C=B.get(z);d(C)&&(C=new Set,B.set(z,C)),C.has(x)||(C.add(x),A.addEventListener(y,x))}}return this}off(v,w,x){d(x)?(x=w,w=void 0):x=x[p].get(w);for(const y of c(v)){const z=m(y,w);for(const A of this)A[q].get(z).delete(x),A.removeEventListener(y,x)}return this}trigger(v,w={}){w=Object.assign(w,{bubbles:!0,cancelable:!0});for(const x of this)x.dispatchEvent(new CustomEvent(v,w));return this}}window.Jamon=u,d(window.$)&&d(window.$$)&&(window.$=u.get,window.$$=u.getAll)}
