"use strict";{function a(u){return u.replace(/-([a-z])/g,(v,w)=>w.toUpperCase())}function b(u){return u.replace(/([A-Z])/g,v=>"-"+v.toLowerCase())}function c(u){return u?(u+"").trim().split(" "):[]}function d(u){return"undefined"==typeof u}function f(u){return"string"==typeof u}function g(u,v,w){const x=c(v);if(x.length)for(const y of u)if(w!==r.TOGGLE)y.classList[w](...x);else for(const z of x)y.classList.toggle(z);return u}function h(u,v,w){if(d(w))return u[0]?u[0][v]:void 0;if(null!==w)for(const x of u)x[v]=w;else for(const x of u)delete x[v];return u}function i(u,v){const w=u[0];if(w&&"function"==typeof w.getBoundingClientRect)return w.getBoundingClientRect()[v]}function j(u,v,w,x){let y=!1;return f(u)?(u=document.createTextNode(u),y=!0):u=u[0],v=v[0],w===q.BEFORE||w===q.AFTER?(v.parentElement.insertBefore(u,w===q.BEFORE?v:v.nextSibling),y&&v.parentNode&&v.parentNode.normalize()):w===q.PREPEND?(v.insertBefore(u,v.firstChild),y&&v.normalize()):w===q.APPEND?(v.appendChild(u),y&&v.normalize()):w===q.REPLACE&&(v.parentElement.replaceChild(u,v),y&&u.parentNode.normalize()),arguments[x]}function k(u,v){let x,w=u[o];return d(w)&&(w=new Map,u[o]=w),w.has(v)?x=w.get(v):(x=function(y){const z=y.target;z.matches(v)&&u.call(z,y)},w.set(v,x)),x}function l(u,v=""){return`${u}|${v}`}function m(u,v,w){let x,y=!1,z=u.id;const A=w?"querySelector":"querySelectorAll";return z||(y=!0,z="jamon-temporary-id",u.id=z),v=`#${z} ${v}`,x=u[A](v),y&&u.removeAttribute("id"),x}let n="hidden";const o=Symbol(),p=Symbol(),q={PREPEND:Symbol(),APPEND:Symbol(),BEFORE:Symbol(),AFTER:Symbol(),REPLACE:Symbol()},r={ADD:"add",REMOVE:"remove",TOGGLE:"toggle"},s={WIDTH:"width",HEIGHT:"height"};class t extends Array{static create(u,v){const w=document.createElement(u);if(!d(v))for(const x of Object.keys(v))w[x]=v[x];return t.of(w)}static get hiddenClassName(){return n}static set hiddenClassName(u){n=u}static get(u){if(d(u))return new t;if(f(u)){const v=document.querySelector(u);return v?t.of(v):new t}return u instanceof Node&&[Node.ELEMENT_NODE,Node.DOCUMENT_NODE,Node.TEXT_NODE].includes(u.nodeType)?t.of(u):u[Symbol.iterator]?u.length?t.of(u[0]):new t:void 0}static getAll(u){return d(u)?new t:f(u)?t.from(document.querySelectorAll(u)):u instanceof t?u:u[Symbol.iterator]&&!d(u.length)?t.from(u):void 0}*items(){for(const u of this)yield t.of(u)}addClass(u){return g(this,u,r.ADD)}removeClass(u){return g(this,u,r.REMOVE)}toggleClass(u){return g(this,u,r.TOGGLE)}hasClass(u){return u&&this[0]&&this[0].classList.contains((u+"").trim())}show(){return g(this,n,r.REMOVE)}hide(){return g(this,n,r.ADD)}toggle(){return g(this,n,r.TOGGLE)}val(u){return h(this,"value",u)}html(u){return h(this,"innerHTML",null===u?"":u)}text(u){return h(this,"textContent",null===u?"":u)}prop(u,v){return h(this,u,v)}attr(u,v){if(d(v)){let w=this[0];return w&&w.hasAttribute(u)?w.getAttribute(u):void 0}if(null!==v)for(const w of this)w.setAttribute(u,v);else for(const w of this)w.removeAttribute(u);return this}css(u,v){if(d(v)){let w=this[0];return w?window.getComputedStyle(w).getPropertyValue(b(u)):void 0}for(const w of this)w.style[a(u)]=v+"";return this}data(u,v){if(d(v)){const w=this[0];return w?w.dataset[u]:void 0}if(null!==v){for(const w of this)w.dataset[u]=v;return this}for(const w of this)delete w.dataset[u];return this}width(){return i(this,s.WIDTH)}height(){return i(this,s.HEIGHT)}offset(){const u=this[0];return{left:u.offsetLeft,top:u.offsetTop}}position(u){const v=this[0].getBoundingClientRect();if(d(u))return{left:v.left,top:v.top};for(const w of this){const x=w.offsetParent||document.body,y=x.getBoundingClientRect(),z=getComputedStyle(w),A=w.style,B=u.left,C=u.top;let D,E;"static"===z.position?(D=w.offsetLeft,E=w.offsetTop,A.position="relative"):(D=w.offsetLeft-(parseFloat(z.left)||0),E=w.offsetTop-(parseFloat(z.top)||0)),d(B)||(A.left=B-D-y.left+"px"),d(C)||(A.top=C-E-y.top+"px")}return this}findOne(u){let v=new t;for(const w of this){const x=m(w,u,!0);if(x){v.push(x);break}}return v}findAll(u){const v=new t;for(const w of this){const x=m(w,u);x.length&&v.push(...x)}return v}parent(){const u=new t;for(const v of this){const w=v.parentElement;w&&!u.includes(w)&&u.push(w)}return u}children(){const u=new t;for(const v of this)u.push(...v.children);return u}closest(u){const v=new t;for(const w of this)if("function"==typeof w.closest){const x=w.closest(u);x&&!v.includes(x)&&v.push(x)}return v}prepend(u){return j(u,this,q.PREPEND,1)}prependTo(u){return j(this,u,q.PREPEND,0)}append(u){return j(u,this,q.APPEND,1)}appendTo(u){return j(this,u,q.APPEND,0)}before(u){return j(u,this,q.BEFORE,1)}insertBefore(u){return j(this,u,q.BEFORE,0)}after(u){return j(u,this,q.AFTER,1)}insertAfter(u){return j(this,u,q.AFTER,0)}replaceWith(u){return j(u,this,q.REPLACE,1)}replace(u){return j(this,u,q.REPLACE,0)}clone(u){const v=new t;for(const w of this)v.push(w.cloneNode(u));return v}remove(){for(const u of this)u.remove(),u.parentNode.normalize();return this}on(u,v,w){d(w)?(w=v,v=void 0):w=k(w,v);for(const x of c(u)){const y=l(x,v);for(const z of this){let A=z[p];d(A)&&(A=new Map,z[p]=A);let B=A.get(y);d(B)&&(B=new Set,A.set(y,B)),B.has(w)||(B.add(w),z.addEventListener(x,w))}}return this}off(u,v,w){d(w)?(w=v,v=void 0):w=w[o].get(v);for(const x of c(u)){const y=l(x,v);for(const z of this)z[p].get(y).delete(w),z.removeEventListener(x,w)}return this}trigger(u,v={}){v=Object.assign(v,{bubbles:!0,cancelable:!0});for(const w of this)w.dispatchEvent(new CustomEvent(u,v));return this}}window.Jamon=t,d(window.$)&&d(window.$$)&&(window.$=t.get,window.$$=t.getAll)}
