'use strict';(function(a,b){'function'==typeof define&&define.amd?define([],b):'object'==typeof module&&module.exports?module.exports=b():a.Jamon=b()})(this,function(){function a(z){return z.replace(/-([a-z])/g,(A,B)=>B.toUpperCase())}function b(z){return z.replace(/([A-Z])/g,A=>'-'+A.toLowerCase())}function c(z){return z?(z+'').trim().split(' '):[]}function d(z){return'undefined'==typeof z}function f(z){return'string'==typeof z}function g(z){return Array.isArray(z)||z instanceof NodeList||z instanceof HTMLCollection}function h(z,A,B){const C=c(A);if(C.length)for(const D of z)if(B!==w.TOGGLE)D.classList[B](...C);else for(const E of C)D.classList.toggle(E);return z}function i(z,A,B){if(d(B))return z[0]?z[0][A]:void 0;if(null!==B)for(const C of z)C[A]=B;else for(const C of z)delete C[A];return z}function j(z,A){const B=z[0];if(B&&'function'==typeof B.getBoundingClientRect)return B.getBoundingClientRect()[A]}function k(z,A,B,C){let D=!1;return f(z)?(z=document.createTextNode(z),D=!0):z=z[0],A=A[0],B===v.BEFORE||B===v.AFTER?(A.parentElement.insertBefore(z,B===v.BEFORE?A:A.nextSibling),D&&A.parentNode&&A.parentNode.normalize()):B===v.PREPEND?(A.insertBefore(z,A.firstChild),D&&A.normalize()):B===v.APPEND?(A.appendChild(z),D&&A.normalize()):B===v.REPLACE&&(A.parentElement.replaceChild(z,A),D&&z.parentNode.normalize()),arguments[C]}function l(z,A){let C,B=z[t];return d(B)&&(B=new Map,z[t]=B),B.has(A)?C=B.get(A):(C=function(D){const E=D.target;E.matches(A)&&z.call(E,D)},B.set(A,C)),C}function m(z,A=''){return`${z}|${A}`}function n(z,A,B){let C,D=!1,E=z.id;const F=B?'querySelector':'querySelectorAll';return E||(D=!0,E='jamon-temporary-id',z.id=E),A=`#${E} ${A}`,C=z[F](A),D&&z.removeAttribute('id'),C}let s='hidden';const t=Symbol(),u=Symbol(),v={PREPEND:Symbol(),APPEND:Symbol(),BEFORE:Symbol(),AFTER:Symbol(),REPLACE:Symbol()},w={ADD:'add',REMOVE:'remove',TOGGLE:'toggle'},x={WIDTH:'width',HEIGHT:'height'};class y extends Array{*items(){for(const z of this)yield y.of(z)}addClass(z){return h(this,z,w.ADD)}removeClass(z){return h(this,z,w.REMOVE)}toggleClass(z){return h(this,z,w.TOGGLE)}hasClass(z){return z&&this[0]&&this[0].classList.contains((z+'').trim())}show(){return h(this,s,w.REMOVE)}hide(){return h(this,s,w.ADD)}toggle(){return h(this,s,w.TOGGLE)}val(z){return i(this,'value',z)}html(z){return i(this,'innerHTML',null===z?'':z)}text(z){return i(this,'textContent',null===z?'':z)}prop(z,A){return i(this,z,A)}attr(z,A){if(d(A)){let B=this[0];return B&&B.hasAttribute(z)?B.getAttribute(z):void 0}if(null!==A)for(const B of this)B.setAttribute(z,A);else for(const B of this)B.removeAttribute(z);return this}css(z,A){if(d(A)){let B=this[0];return B?window.getComputedStyle(B).getPropertyValue(b(z)):void 0}for(const B of this)B.style[a(z)]=A+'';return this}data(z,A){if(d(A)){const B=this[0];return B?B.dataset[z]:void 0}if(null!==A){for(const B of this)B.dataset[z]=A;return this}for(const B of this)delete B.dataset[z];return this}width(){return j(this,x.WIDTH)}height(){return j(this,x.HEIGHT)}offset(){const z=this[0];return{left:z.offsetLeft,top:z.offsetTop}}position(z){const A=this[0].getBoundingClientRect();if(d(z))return{left:A.left,top:A.top};for(const B of this){const C=B.offsetParent||document.body,D=C.getBoundingClientRect(),E=getComputedStyle(B),F=B.style,G=z.left,H=z.top;let I,J;'static'===E.position?(I=B.offsetLeft,J=B.offsetTop,F.position='relative'):(I=B.offsetLeft-(parseFloat(E.left)||0),J=B.offsetTop-(parseFloat(E.top)||0)),d(G)||(F.left=G-I-D.left+'px'),d(H)||(F.top=H-J-D.top+'px')}return this}findOne(z){let A=new y;for(const B of this){const C=n(B,z,!0);if(C){A.push(C);break}}return A}findAll(z){const A=new y;for(const B of this){const C=n(B,z);C.length&&A.push(...C)}return A}parent(){const z=new y;for(const A of this){const B=A.parentElement;B&&!z.includes(B)&&z.push(B)}return z}children(){const z=new y;for(const A of this)z.push(...A.children);return z}closest(z){const A=new y;for(const B of this)if('function'==typeof B.closest){const C=B.closest(z);C&&!A.includes(C)&&A.push(C)}return A}prepend(z){return k(z,this,v.PREPEND,1)}prependTo(z){return k(this,z,v.PREPEND,0)}append(z){return k(z,this,v.APPEND,1)}appendTo(z){return k(this,z,v.APPEND,0)}before(z){return k(z,this,v.BEFORE,1)}insertBefore(z){return k(this,z,v.BEFORE,0)}after(z){return k(z,this,v.AFTER,1)}insertAfter(z){return k(this,z,v.AFTER,0)}replaceWith(z){return k(z,this,v.REPLACE,1)}replace(z){return k(this,z,v.REPLACE,0)}clone(z){const A=new y;for(const B of this)A.push(B.cloneNode(z));return A}remove(){for(const z of this)z.remove(),z.parentNode.normalize();return this}on(z,A,B){d(B)?(B=A,A=void 0):B=l(B,A);for(const C of c(z)){const D=m(C,A);for(const E of this){let F=E[u];d(F)&&(F=new Map,E[u]=F);let G=F.get(D);d(G)&&(G=new Set,F.set(D,G)),G.has(B)||(G.add(B),E.addEventListener(C,B))}}return this}off(z,A,B){d(B)?(B=A,A=void 0):B=B[t].get(A);for(const C of c(z)){const D=m(C,A);for(const E of this)E[u].get(D).delete(B),E.removeEventListener(C,B)}return this}trigger(z,A={}){A=Object.assign(A,{bubbles:!0,cancelable:!0});for(const B of this)B.dispatchEvent(new CustomEvent(z,A));return this}}return{get:function(z){if(d(z))return new y;if(f(z)){const A=document.querySelector(z);return A?y.of(A):new y}return z instanceof Node&&[Node.ELEMENT_NODE,Node.DOCUMENT_NODE,Node.TEXT_NODE].includes(z.nodeType)?y.of(z):g(z)?z.length?y.of(z[0]):new y:void 0},getAll:function(z){return d(z)?new y:f(z)?y.from(document.querySelectorAll(z)):z instanceof y?z:g(z)?z.length?y.from(z):new y:void 0},create:function(z,A){const B=document.createElement(z);if(!d(A))for(const C of Object.keys(A))B[C]=A[C];return y.of(B)},setHiddenClassName:function(z){s=z}}});
