'use strict';(function(a,b){'function'==typeof define&&define.amd?define([],b):'object'==typeof module&&module.exports?module.exports=b():a.Jamon=b()})(this,function(){function a(t){return t.replace(/-([a-z])/g,(u,v)=>v.toUpperCase())}function b(t){return t.replace(/([A-Z])/g,u=>'-'+u.toLowerCase())}function c(t){return t?(t+'').trim().split(' '):[]}function d(t){return'undefined'==typeof t}function f(t){return'string'==typeof t}function g(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection}function h(t,u,v){const w=c(u);if(w.length)for(const x of t)if('toggle'!==v)x.classList[v](...w);else for(const y of w)x.classList.toggle(y);return t}function i(t,u,v){if(d(v))return t[0]?t[0][u]:void 0;if(null!==v)for(const w of t)w[u]=v;else for(const w of t)delete w[u];return t}function j(t,u){const v=t[0];if(v&&'function'==typeof v.getBoundingClientRect)return v.getBoundingClientRect()[u]}function k(t,u,v,w){let x=!1;return f(t)?(t=document.createTextNode(t),x=!0):t=t[0],u=u[0],v===r.BEFORE||v===r.AFTER?(u.parentElement.insertBefore(t,v===r.BEFORE?u:u.nextSibling),x&&u.parentNode&&u.parentNode.normalize()):v===r.PREPEND?(u.insertBefore(t,u.firstChild),x&&u.normalize()):v===r.APPEND?(u.appendChild(t),x&&u.normalize()):v===r.REPLACE&&(u.parentElement.replaceChild(t,u),x&&t.parentNode.normalize()),arguments[w]}function l(t,u){let w,v=t[p];return d(v)&&(v=new Map,t[p]=v),v.has(u)?w=v.get(u):(w=function(x){const y=x.target;y.matches(u)&&t.call(y,x)},v.set(u,w)),w}function m(t,u=''){return`${t}|${u}`}function n(t,u,v){let w,x=!1,y=t.id;const z=v?'querySelector':'querySelectorAll';return y||(x=!0,y='jamon-temporary-id',t.id=y),u=`#${y} ${u}`,w=t[z](u),x&&t.removeAttribute('id'),w}let o='hidden';const p=Symbol(),q=Symbol(),r={PREPEND:Symbol(),APPEND:Symbol(),BEFORE:Symbol(),AFTER:Symbol(),REPLACE:Symbol()};class s extends Array{static create(t,u){const v=document.createElement(t);if(!d(u))for(const w of Object.keys(u))v[w]=u[w];return s.of(v)}static get hiddenClassName(){return o}static set hiddenClassName(t){o=t}static get(t){if(d(t))return new s;if(f(t)){const u=document.querySelector(t);return u?s.of(u):new s}return t instanceof Node&&[Node.ELEMENT_NODE,Node.DOCUMENT_NODE,Node.TEXT_NODE].includes(t.nodeType)?s.of(t):g(t)?t.length?s.of(t[0]):new s:void 0}static getAll(t){return d(t)?new s:f(t)?s.from(document.querySelectorAll(t)):t instanceof s?t:g(t)?t.length?s.from(t):new s:void 0}*items(){for(const t of this)yield s.of(t)}addClass(t){return h(this,t,'add')}removeClass(t){return h(this,t,'remove')}toggleClass(t){return h(this,t,'toggle')}hasClass(t){return t&&this[0]&&this[0].classList.contains((t+'').trim())}show(){return h(this,o,'remove')}hide(){return h(this,o,'add')}toggle(){return h(this,o,'toggle')}val(t){return i(this,'value',t)}html(t){return i(this,'innerHTML',null===t?'':t)}text(t){return i(this,'textContent',null===t?'':t)}prop(t,u){return i(this,t,u)}attr(t,u){if(d(u)){let v=this[0];return v&&v.hasAttribute(t)?v.getAttribute(t):void 0}if(null!==u)for(const v of this)v.setAttribute(t,u);else for(const v of this)v.removeAttribute(t);return this}css(t,u){if(d(u)){let v=this[0];return v?window.getComputedStyle(v).getPropertyValue(b(t)):void 0}for(const v of this)v.style[a(t)]=u+'';return this}data(t,u){if(d(u)){const v=this[0];return v?v.dataset[t]:void 0}if(null!==u){for(const v of this)v.dataset[t]=u;return this}for(const v of this)delete v.dataset[t];return this}width(){return j(this,'width')}height(){return j(this,'height')}offset(){const t=this[0];return{left:t.offsetLeft,top:t.offsetTop}}position(t){const u=this[0].getBoundingClientRect();if(d(t))return{left:u.left,top:u.top};for(const v of this){const w=v.offsetParent||document.body,x=w.getBoundingClientRect(),y=getComputedStyle(v),z=v.style,A=t.left,B=t.top;let C,D;'static'===y.position?(C=v.offsetLeft,D=v.offsetTop,z.position='relative'):(C=v.offsetLeft-(parseFloat(y.left)||0),D=v.offsetTop-(parseFloat(y.top)||0)),d(A)||(z.left=A-C-x.left+'px'),d(B)||(z.top=B-D-x.top+'px')}return this}findOne(t){let u=new s;for(const v of this){const w=n(v,t,!0);if(w){u.push(w);break}}return u}findAll(t){const u=new s;for(const v of this){const w=n(v,t);w.length&&u.push(...w)}return u}parent(){const t=new s;for(const u of this){const v=u.parentElement;v&&!t.includes(v)&&t.push(v)}return t}children(){const t=new s;for(const u of this)t.push(...u.children);return t}closest(t){const u=new s;for(const v of this)if('function'==typeof v.closest){const w=v.closest(t);w&&!u.includes(w)&&u.push(w)}return u}prepend(t){return k(t,this,r.PREPEND,1)}prependTo(t){return k(this,t,r.PREPEND,0)}append(t){return k(t,this,r.APPEND,1)}appendTo(t){return k(this,t,r.APPEND,0)}before(t){return k(t,this,r.BEFORE,1)}insertBefore(t){return k(this,t,r.BEFORE,0)}after(t){return k(t,this,r.AFTER,1)}insertAfter(t){return k(this,t,r.AFTER,0)}replaceWith(t){return k(t,this,r.REPLACE,1)}replace(t){return k(this,t,r.REPLACE,0)}clone(t){const u=new s;for(const v of this)u.push(v.cloneNode(t));return u}remove(){for(const t of this)t.remove(),t.parentNode.normalize();return this}on(t,u,v){d(v)?(v=u,u=void 0):v=l(v,u);for(const w of c(t)){const x=m(w,u);for(const y of this){let z=y[q];d(z)&&(z=new Map,y[q]=z);let A=z.get(x);d(A)&&(A=new Set,z.set(x,A)),A.has(v)||(A.add(v),y.addEventListener(w,v))}}return this}off(t,u,v){d(v)?(v=u,u=void 0):v=v[p].get(u);for(const w of c(t)){const x=m(w,u);for(const y of this)y[q].get(x).delete(v),y.removeEventListener(w,v)}return this}trigger(t,u={}){u=Object.assign(u,{bubbles:!0,cancelable:!0});for(const v of this)v.dispatchEvent(new CustomEvent(t,u));return this}}return s});
